(function(e){function t(t){for(var n,s,o=t[0],c=t[1],l=t[2],u=0,p=[];u<o.length;u++)s=o[u],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&p.push(r[s][0]),r[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);g&&g(t);while(p.length)p.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],n=!0,s=1;s<a.length;s++){var o=a[s];0!==r[o]&&(n=!1)}n&&(i.splice(t--,1),e=c(c.s=a[0]))}return e}var n={},s={app:0},r={app:0},i=[];function o(e){return c.p+"js/"+({}[e]||e)+"."+{"chunk-2d0ddddc":"02f88216","chunk-4959935e":"a3daf1a0","chunk-57d9a456":"a42dc19b"}[e]+".js"}function c(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.e=function(e){var t=[],a={"chunk-4959935e":1,"chunk-57d9a456":1};s[e]?t.push(s[e]):0!==s[e]&&a[e]&&t.push(s[e]=new Promise((function(t,a){for(var n="css/"+({}[e]||e)+"."+{"chunk-2d0ddddc":"31d6cfe0","chunk-4959935e":"ff1cb6de","chunk-57d9a456":"b2925669"}[e]+".css",r=c.p+n,i=document.getElementsByTagName("link"),o=0;o<i.length;o++){var l=i[o],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===n||u===r))return t()}var p=document.getElementsByTagName("style");for(o=0;o<p.length;o++){l=p[o],u=l.getAttribute("data-href");if(u===n||u===r)return t()}var g=document.createElement("link");g.rel="stylesheet",g.type="text/css",g.onload=t,g.onerror=function(t){var n=t&&t.target&&t.target.src||r,i=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=n,delete s[e],g.parentNode.removeChild(g),a(i)},g.href=r;var d=document.getElementsByTagName("head")[0];d.appendChild(g)})).then((function(){s[e]=0})));var n=r[e];if(0!==n)if(n)t.push(n[2]);else{var i=new Promise((function(t,a){n=r[e]=[t,a]}));t.push(n[2]=i);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=o(e);var p=new Error;l=function(t){u.onerror=u.onload=null,clearTimeout(g);var a=r[e];if(0!==a){if(a){var n=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src;p.message="Loading chunk "+e+" failed.\n("+n+": "+s+")",p.name="ChunkLoadError",p.type=n,p.request=s,a[1](p)}r[e]=void 0}};var g=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(t)},c.m=e,c.c=n,c.d=function(e,t,a){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(a,n,function(t){return e[t]}.bind(null,n));return a},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="",c.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var p=0;p<l.length;p++)t(l[p]);var g=u;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),s=a("bc3a"),r=a.n(s),i=a("a7fe"),o=a.n(i),c=a("ecee"),l=a("c074"),u=a("ad3d"),p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("div",{attrs:{id:"nav"}},[a("div",{staticClass:"home_area"},[a("router-link",{staticClass:"home",attrs:{to:"/"}},[a("span",{staticClass:"home_txt"},[e._v("Home")]),a("font-awesome-icon",{attrs:{icon:"film",id:"film_logo"}})],1)],1),a("div",{staticClass:"search_area"},[a("input",{staticClass:"search_bar",attrs:{type:"text"}}),a("font-awesome-icon",{attrs:{icon:"search",id:"search_icon"}}),a("router-link",{staticClass:"like",attrs:{to:"/storage"}},[e._v("收藏")])],1)]),a("keep-alive",[e.$route.meta.keepAlive?a("router-view"):e._e()],1),e.$route.meta.keepAlive?e._e():a("router-view")],1)},g=[],d=a("57da"),f={components:{Home:d["default"]}},h=f,v=(a("5c0b"),a("2877")),m=Object(v["a"])(h,p,g,!1,null,null,null),P=m.exports,_=(a("d3b7"),a("8c4f"));n["a"].use(_["a"]);var y=[{path:"*",redirect:"/"},{path:"/",name:"Home",meta:{keepAlive:!0},component:function(){return Promise.resolve().then(a.bind(null,"57da"))}},{path:"/storage",name:"Storage",component:function(){return a.e("chunk-2d0ddddc").then(a.bind(null,"82e1"))}},{path:"/play/:video_id",name:"Play",component:function(){return a.e("chunk-4959935e").then(a.bind(null,"1cd7"))}},{path:"/play_specify",name:"Play_specify",component:function(){return a.e("chunk-57d9a456").then(a.bind(null,"17d0"))}}],b=new _["a"]({mode:"hash",routes:y}),k=b,w=a("2f62");n["a"].use(w["a"]);var x=new w["a"].Store({state:{},mutations:{},actions:{},modules:{}});n["a"].use(o.a,r.a),c["c"].add(l["b"],l["a"]),n["a"].component("font-awesome-icon",u["a"]),n["a"].config.productionTip=!1,new n["a"]({router:k,store:x,render:function(e){return e(P)}}).$mount("#app")},"57da":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"playlists"},e._l(e.pagePlaylist,(function(t){return a("div",{key:t.id,staticClass:"playlist"},[a("div",{staticClass:"thumbnail_area"},[a("a",{on:{click:function(a){return e.gotoPlay(t.id)}}},[a("div",{staticClass:"thumbnail_overlay"},[e._v(" ▷ ")]),a("img",{staticClass:"thumbnail",attrs:{src:t.img,alt:"無法顯示"}}),a("span",{staticClass:"howlong"},[e._v(e._s(t.formatDuration))])])]),a("router-link",{staticClass:"video_title",attrs:{to:"/play",title:t.title}},[e._v(" "+e._s(t.title)+" ")])],1)})),0),e.pages.page_display?a("div",{staticClass:"pagination"},[a("div",{staticClass:"page_area"},[a("a",{staticClass:"page_btn firstPage",class:{disabled:1==this.pages.currentPage},on:{click:function(t){return e.gotoPage(1)}}},[e._v(" First ")]),this.pages.currentPage>1?a("a",{staticClass:"page_btn previous_page",on:{click:function(t){return e.previouspage()}}},[e._v(" << ")]):e._e(),e._l(e.pages.totalPage,(function(t){return a("a",{key:t,staticClass:"page_btn gotopage",class:{active:t==e.pages.currentPage},on:{click:function(a){return e.gotoPage(t)}}},[e._v(" "+e._s(t)+" ")])})),this.pages.currentPage<this.finalTotalPage?a("a",{staticClass:"page_btn nextPage",on:{click:function(t){return e.gotoNextpage(e.pages.nextPageToken)}}},[e._v(" >> ")]):e._e(),a("a",{staticClass:"page_btn lastPage",class:{disabled:this.pages.currentPage==this.finalTotalPage},on:{click:function(t){return e.gotoPage(e.pages.totalPage)}}},[e._v(" Last ")])],2),e._m(0)]):e._e()])},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page_explain"},[a("p",[e._v("按下一頁會產生新的一頁"),a("br"),e._v(" 參數 nextPageToken"),a("br"),e._v(" 每次拿12筆，共 100 筆 ")])])}],r=(a("a4d3"),a("e01a"),a("99af"),a("4160"),a("c975"),a("fb6a"),a("ac1f"),a("5319"),a("1276"),a("159b"),{data:function(){return{videos:[],pagePlaylist:[],nowPlayStartIndex:0,totalResults:100,pages:{currentPage:1,nextPageToken:"",perPage_num:12,totalPage:1,page_display:!1}}},created:function(){console.log("created"),this.getFirstVideos()},computed:{finalTotalPage:function(){return Math.ceil(this.totalResults/this.pages.perPage_num)}},methods:{gotoPlay:function(e){this.$router.push("/play/".concat(e))},slicePagelist:function(){this.pagePlaylist=this.videos.slice(this.nowPlayStartIndex,this.nowPlayStartIndex+12)},getPlaylist:function(e){var t=this;e.forEach((function(e,a,n){var s=e.id,r=e.snippet.thumbnails.high.url,i=e.snippet.title,o=e.snippet.description,c=e.contentDetails.duration,l=t.durationHandler(c),u={id:s,img:r,title:i,cut_title:i.substr(0,10)+"...",description:o.substr(0,20)+"...",formatDuration:l};t.videos.push(u),t.slicePagelist()}))},getFirstVideos:function(){var e=this,t="https://www.googleapis.com/youtube/v3/videos?part=contentDetails&part=snippet&chart=mostPopular&maxResults=12&regionCode=TW&key=AIzaSyAEHw6lAxMOQ4YcogbbAkeWza_hxARrk4k";this.$http.get(t).then((function(t){if(console.log(t),200==t.status){var a=t.data.items;t.data.pageInfo;e.pages.nextPageToken=t.data.nextPageToken,e.pages.currentPage=1,e.getPlaylist(a),e.pages.page_display=!0}}))},gotoPage:function(e){this.pages.currentPage=e,console.log("pages.currentPage: "+this.pages.currentPage),console.log("totalPage: "+this.pages.totalPage),this.nowPlayStartIndex=(this.pages.currentPage-1)*this.pages.perPage_num,console.log(this.nowPlayStartIndex),this.slicePagelist()},gotoNextpage:function(e){var t=this;if(this.pages.currentPage!=this.finalTotalPage)if(this.videos.length>this.pages.currentPage*this.pages.perPage_num)this.pages.currentPage++,this.nowPlayStartIndex+=12,this.pages.totalPage=Math.ceil(this.videos.length/this.pages.perPage_num),this.slicePagelist();else{var a=12;this.videos.length+a>100&&(a=100-this.videos.length);var n="https://www.googleapis.com/youtube/v3/videos?part=contentDetails&part=snippet&chart=mostPopular&maxResults=".concat(a,"&pageToken=").concat(e,"&regionCode=TW&key=AIzaSyAEHw6lAxMOQ4YcogbbAkeWza_hxARrk4k");this.$http.get(n).then((function(e){if(200==e.status){t.pages.currentPage++,t.nowPlayStartIndex+=12;var a=e.data.items;t.getPlaylist(a),t.pages.nextPageToken=e.data.nextPageToken,t.pages.totalPage=Math.ceil(t.videos.length/t.pages.perPage_num)}}))}},previouspage:function(){this.pages.currentPage--,this.nowPlayStartIndex-=12,this.slicePagelist()},durationHandler:function(e){var t=0,a=0,n=0;if(e=e.replace("PT",""),e.indexOf("H")>-1){var s=e.split("H");t=s[0],e=s[1]}else t=0;if(e.indexOf("M")>-1){var r=e.split("M");a=r[0],e=r[1]}if(e.indexOf("S")>-1){var i=e.split("S");n=i[0]}return e="".concat(t,":").concat(a,":").concat(n),e}}}),i=r,o=(a("aff5"),a("2877")),c=Object(o["a"])(i,n,s,!1,null,"107ca65e",null);t["default"]=c.exports},"5c0b":function(e,t,a){"use strict";var n=a("9c0c"),s=a.n(n);s.a},"98f1":function(e,t,a){},"9c0c":function(e,t,a){},aff5:function(e,t,a){"use strict";var n=a("98f1"),s=a.n(n);s.a}});
//# sourceMappingURL=app.4a95e411.js.map